sudo: false
language: python
cache: pip
python:
 - 2.7
 - 3.5
install:
 - wget http://pypi.python.org/packages/source/v/virtualenv/virtualenv-1.9.1.tar.gz
 - tar xzf virtualenv-1.9.1.tar.gz
 - python virtualenv-1.9.1/virtualenv.py bootstrap-virtualenv
 - bootstrap-virtualenv/bin/pip install virtualenv
 - source bootstrap-virtualenv/bin/activate
 - PYTHON=/usr/bin/python3 python install.py
 - deactivate
 - source python-virtualenv/bin/activate
 - rm -rf bootstrap-virtualenv
script:
 - export PATH="${PWD}/node-v6.5.0-linux-x86/bin:$PATH"
 - which npm
 - which node
 - npm run lint
 - python setup.py polysquarelint --exclusions=*/venv/*,*/node_modules/*,*/dist/*,*/public/components/* --suppress-codes=I100,LongDescription,D203
 - python setup.py green
 - npm run test
